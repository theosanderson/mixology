{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Vue","use","VTooltip","defaultHtml","component","VueSimpleSuggest","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","vmodal","masses_data","Array","masses_keys","question_marks","precision_level","mw_message","round","precision","number","parseFloat","toPrecision","formatNumber","roundedValue","floorValue","Math","floor","isInteger","abs","Number","EPSILON","numberOfFloorDigits","String","numberOfDigits","padding","repeat","run_thing","uid","elemDiv","document","getElementById","elemInput","innerText","x","clientWidth","target","min","style","left","$","getJSON","console","log","keys","sort","a","b","toLowerCase","localeCompare","startup","masses","volumes","concentrations","entries","mass_key","mass_value","vol_key","vol_value","type_per_litre","sorted_masses","sorted_concentrations","sorted_volumes","props","content","this","vol_toggle_hint_internal","methods","toggleType","desired_concentration_is_volumetric","alert","chosen_input_method","computed","vol_toggle_large_tooltip","vol_toggle_hint","input_method","includes","desired_concentration","needed_amount_mass","final_volume","undefined","mass_unit","mass_unit_content","val","mw","needed_amount_volume","vol_unit","stock_concentration","vol_unit_content","input_type_button_image","watch","handler","$emit","deep","template","unitKeyDown","e","code","$refs","unit_input","inputElement","selectionEnd","preventDefault","stopPropagation","filterFunction","replace","startsWith","list_of_units","type","invalid_unit","reagentsList","immediate","UpdateMW","manual_mw","setTimeout","Update","count","hover","modalise","$modal","show","unmodalise","hide","modalise_settings","unmodalise_settings","deleteMe","displayName","reagent_info","onbackspacetoofar","raw_number","focus","selectionStart","toString","numberKeypress","inp","fromCharCode","keyCode","isLetter","test","unit","inputSlot","firstChild","updateValue","raw_unit","unit_details","computed_value_in_litres","buffer_name","counter","reagents_store","notes_store","model","about_open","video_open","onDeleteMe","to_delete","deleteNote","loadNewData","urlParams","URLSearchParams","location","search","recipe","cityRef","db","collection","doc","exists","new_data","JSON","parse","json","display","el","compoundTitle","AddCompound","onbeforeunload","max_uid","max","AddNote","text","makeid","characters","charactersLength","charAt","random","firestore","permalink","time","Date","now","to_store","stringify","data_for_db","version","id","set","href"],"mappings":"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","file":"js/app.39cecaf9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/*eslint no-unused-vars: \"warn\"*/\nimport Vue from 'vue'\nimport $ from 'jquery'\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport VueSimpleSuggest from 'vue-simple-suggest'\nimport VTooltip from 'v-tooltip'\nVue.use(VTooltip, {\n  defaultHtml: false,\n})\n\n\nVue.component('vue-simple-suggest', VueSimpleSuggest)\n\n\n  // Your web app's Firebase configuration\n  var firebaseConfig = {\n    apiKey: \"AIzaSyAbcpPTlSV3YaY3WHVSIV_-G2IV-6kGzyE\",\n    authDomain: \"mixology-1b19e.firebaseapp.com\",\n    projectId: \"mixology-1b19e\",\n    storageBucket: \"mixology-1b19e.appspot.com\",\n    messagingSenderId: \"372110169446\",\n    appId: \"1:372110169446:web:c58d451c520df31b1aa4a7\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\nimport vmodal from 'vue-js-modal'\nVue.use(vmodal)\n\nlet masses_data = Array();\nlet masses_keys = [];\nlet question_marks = '???'\nlet precision_level = 4;\n\nlet mw_message = \"Unable to calculate the required value: you need to add a molecular weight to this reagent to make this conversion. Either choose a reagent from the suggestion list or click on the cog icon.\";\n\n$.getJSON(\"masses.json\", function (data) {\n  console.log(data);\n  masses_data = data;\n  masses_keys = Object.keys(data).sort(function (a, b) {\n    return a.toLowerCase().localeCompare(b.toLowerCase());\n  });\n\n\n  startup();\n\n\n});\n\n\nfunction round(precision, number) {\n  return parseFloat(number.toPrecision(precision))\n}\n\n\nfunction formatNumber(precision, number) {\n  if (typeof number === 'undefined' || number === null) return ''\n\n  if (number === 0) return '0'\n\n  const roundedValue = round(precision, number)\n  const floorValue = Math.floor(roundedValue)\n\n  const isInteger = Math.abs(floorValue - roundedValue) < Number.EPSILON\n\n  const numberOfFloorDigits = String(floorValue).length\n  const numberOfDigits = String(roundedValue).length\n\n  if (numberOfFloorDigits > precision) {\n    return String(floorValue)\n  } else {\n    const padding = isInteger ? precision - numberOfFloorDigits : precision - numberOfDigits + 1\n\n    if (padding > 0) {\n      if (isInteger) {\n        return `${String(floorValue)}.${'0'.repeat(padding)}`\n      } else {\n        return `${String(roundedValue)}${'0'.repeat(padding)}`\n      }\n    } else {\n      return String(roundedValue)\n    }\n  }\n}\n\n\nfunction run_thing(uid) {\n  var elemDiv = document.getElementById(\"hidden_\" + uid);\n  var elemInput = document.getElementById(\"input_\" + uid);\n  elemDiv.innerText = elemInput.value;\n  let x = elemDiv.clientWidth + 10;\n  var target = document.getElementById(\"mw_\" + uid);\n  if (target != null) {\n    x = Math.min(x, 200)\n    document.getElementById(\"mw_\" + uid).style.left = x + 'px';\n  }\n}\n\nwindow.run_thing = run_thing\n\n//////////\n\nlet masses = { \"g\": 1, \"mg\": 1e-3, \"kg\": 1e3, \"ug\": 1e-6, \"ng\": 1e-9 }\nlet volumes = { \"l\": 1, \"ml\": 1e-3, \"ul\": 1e-6, \"nl\": 1e-9, \"litres\": 1, \"litre\": 1, \"liters\": 1, \"liter\": 1 }\n\nlet concentrations = {};\n\nfor (const [mass_key, mass_value] of Object.entries(masses)) {\n  for (const [vol_key, vol_value] of Object.entries(volumes)) {\n    const name = mass_key + \"/\" + vol_key;\n    const value = mass_value / vol_value;\n    const type_per_litre = \"grams\"\n    concentrations[name] = { \"value\": value, \"type_per_litre\": type_per_litre }\n  }\n}\n\nconcentrations[\"% (w/v)\"] = { value: 10, type_per_litre: \"grams\" }\n\n\n\nfor (const [vol_key, vol_value] of Object.entries(volumes)) {\n\n  const name = \"mol\" + \"/\" + vol_key;\n  const value = 1 / vol_value;\n  const type_per_litre = \"moles\"\n  concentrations[name] = { \"value\": value, \"type_per_litre\": type_per_litre }\n}\n\nconcentrations[\"M\"] = { value: 1, type_per_litre: \"moles\" }\nconcentrations[\"mM\"] = { value: 1e-3, type_per_litre: \"moles\" }\nconcentrations[\"uM\"] = { value: 1e-6, type_per_litre: \"moles\" }\nconcentrations[\"nM\"] = { value: 1e-9, type_per_litre: \"moles\" }\n\nfor (const [vol_key, vol_value] of Object.entries(volumes)) {\n\n  const name = \"units\" + \"/\" + vol_key;\n  const value = 1 / vol_value;\n  const type_per_litre = \"units\"\n  concentrations[name] = { \"value\": value, \"type_per_litre\": type_per_litre }\n}\n\n\nconcentrations[\"% (v/v)\"] = { value: 1e-2, type_per_litre: \"litres\" }\n\nconcentrations[\"X\"] = { value: 1, type_per_litre: \"x\" }\n\n\nlet sorted_masses = Object.keys(masses).sort();\nlet sorted_concentrations = Object.keys(concentrations).sort();\nlet sorted_volumes = Object.keys(volumes).sort();\n\n\n\n/*# structure\n\n{\"name\" : {\"unit_per_litre\":x, \"value\": y}}\n\ngrams, litres, moles, x , activity_units\n*/\n\n\nconsole.log(concentrations);\n\n\n\n\n\nVue.component('needed_amount', {\n  props:\n    ['final_volume', 'mw', 'desired_concentration', 'value', 'vol_toggle_hint']\n\n\n\n  ,\n\n  data: function () {\n    return {\n      content: this.value,\n      vol_toggle_hint_internal: true\n    }\n  },\n  methods: {\n    toggleType() {\n      this.vol_toggle_hint_internal = false;\n      if (this.desired_concentration_is_volumetric) {\n        alert(\"Since your desired concentration is specified in volumetric units, you must measure out a volume.\")\n      }\n      if (this.content.chosen_input_method == \"weight\") {\n        this.content.chosen_input_method = \"volume\"\n        // this.content.vol_unit = \"\"\n        //his.content.mass_unit = \"\"\n      }\n      else {\n        this.content.chosen_input_method = \"weight\"\n        //this.content.mass_unit = \"\"\n        //this.content.vol_unit = \"\"\n      }\n    }\n  },\n\n  computed:\n  {\n    vol_toggle_large_tooltip() {\n      if (this.vol_toggle_hint_internal & this.vol_toggle_hint) {\n        return 'Press to toggle between measuring volume and mass';\n      }\n      else {\n        return ''\n      }\n    },\n\n    input_method: function () {\n      if (this.desired_concentration_is_volumetric) {\n        return \"volume\"\n      }\n      return this.content.chosen_input_method;\n    },\n    desired_concentration_is_volumetric: function () {\n      if ([null, \"grams\", \"moles\"].includes(this.desired_concentration.type_per_litre)) {\n        return false;\n      }\n      else {\n        return true;\n      }\n    }\n    ,\n\n\n    needed_amount_mass() {\n      if (!this.final_volume) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid total volume above\"]\n      }\n\n      if (masses[this.content.mass_unit] == undefined) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid mass unit to the right (e.g. mg)\"]\n      }\n\n      if (!this.desired_concentration.number) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid desired concentration\"]\n      }\n      if (this.desired_concentration.type_per_litre == \"grams\") {\n\n        let mass_unit_content = masses[this.content.mass_unit];\n\n        let val = this.final_volume * this.desired_concentration.number / mass_unit_content\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else if (this.mw > 0 & this.desired_concentration.type_per_litre == \"moles\") {\n\n        let mass_unit_content = masses[this.content.mass_unit];\n        let val = this.final_volume * this.desired_concentration.number * this.mw / mass_unit_content\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else {\n        if (!this.mw) {\n          return [question_marks, mw_message]\n        }\n        return [question_marks, \"Unable to calculate the required value: you seem to be trying to convert between incompatible types\"]\n      }\n    },\n    needed_amount_volume() {\n      if (!this.final_volume) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid total volume above\"]\n      }\n\n      if (volumes[this.content.vol_unit] == undefined) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid volume unit to the right (e.g. ml)\"]\n      }\n\n      if (!this.desired_concentration.number) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid desired concentration\"]\n      }\n\n      if (!this.content.stock_concentration.number) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid stock concentration to the right\"]\n      }\n\n\n      if (this.desired_concentration.type_per_litre == this.content.stock_concentration.type_per_litre) {\n\n        let vol_unit_content = volumes[this.content.vol_unit];\n        let val = this.final_volume * this.desired_concentration.number / (this.content.stock_concentration.number * vol_unit_content);\n        return [formatNumber(precision_level, val), \"\"]\n\n      }\n      else if (this.desired_concentration.type_per_litre == \"moles\" & this.content.stock_concentration.type_per_litre == \"grams\") {\n        if (!this.mw) {\n          return [question_marks, mw_message]\n        }\n        let vol_unit_content = volumes[this.content.vol_unit];\n        let val = this.final_volume * this.desired_concentration.number / (this.content.stock_concentration.number * vol_unit_content / this.mw);\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else if (this.desired_concentration.type_per_litre == \"grams\" & this.content.stock_concentration.type_per_litre == \"moles\") {\n        if (!this.mw) {\n          return [question_marks, mw_message]\n        }\n        let vol_unit_content = volumes[this.content.vol_unit];\n        let val = this.final_volume * this.desired_concentration.number / (this.content.stock_concentration.number * vol_unit_content * this.mw);\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else {\n        return [question_marks, \"error: you seem to be trying to convert between incompatible types\"]\n\n      }\n\n\n\n\n    },\n    input_type_button_image() {\n      if (this.input_method == \"weight\") {\n        return \"fa-balance-scale-right\";\n      }\n      else {\n        return \"fa-flask\";\n      }\n    }\n\n  },\n  watch: {\n    content: {\n      handler(val) {\n        this.$emit('input', this.content)\n      },\n      deep: true\n    }\n  },\n  template: `<div style=\"display:inline-block\" class=\"computed\">\n  <div class=\"button_holder_flask\"><i class=\"fas change-input-type-button toggler\" :class=\"[input_type_button_image,vol_toggle_hint_internal & vol_toggle_hint ? 'highlight': '']\" v-tooltip=\"vol_toggle_large_tooltip\" v-on:click=\"toggleType()\" title=\"Toggle between measuring out mass and volume\"></i></div>\n  <div   style=\"display:inline-block\" v-if=\"input_method=='weight'\">\n  <div class=\"needed_number\" v-tooltip=\"needed_amount_mass[1]\">{{needed_amount_mass[0]}}</div><unit key=\"mass\" type=\"mass\"  v-model=\"content.mass_unit\"/>\n  </div>\n  <div style=\"display:inline-block\"  v-if=\"input_method=='volume'\">\n  <div class=\"needed_number\" v-tooltip=\"needed_amount_volume[1]\">{{needed_amount_volume[0]}}</div><unit key=\"vol\" type=\"vol\"  v-model=\"content.vol_unit\" class=\"vol_unit2\"/> of <conc_and_unit v-model=\"content.stock_concentration\" /> stock\n  </div>\n  </div>`\n});\n\n\nVue.component('unit', {\n  props: ['value', 'type'],\n  data: function () {\n    return {\n      content: this.value\n\n\n    }\n  },\n  methods: {\n\n    unitKeyDown: function (e) {\n      // console.log(e)\n      if (e.code == \"Backspace\") {\n        if (this.$refs.unit_input.inputElement.selectionEnd == 0) {\n          this.$emit('backspace_too_far', 'true')\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n      }\n\n\n\n    },\n\n\n    filterFunction(a, b) {\n      return a.toLowerCase().replace(\" \", \"\").startsWith(b.toLowerCase().replace(\" \", \"\"));\n    },\n    list_of_units() {\n      if (this.type == \"conc\") {\n        return (sorted_concentrations);\n      }\n      else if (this.type == \"mass\") {\n        return (sorted_masses);\n      }\n      else if (this.type == \"vol\") {\n        return (sorted_volumes);\n      }\n\n    }\n\n\n  },\n  computed: {\n    invalid_unit() {\n      if (this.list_of_units().includes(this.content)) {\n        return false;\n      }\n      else {\n        return true;\n      }\n    }\n  },\n  watch: {\n    content: function (value) {\n\n      this.$emit('input', value)\n\n\n    }\n\n  },\n  template: `<div class=\"unit\" style=\"display:inline-block\">\n      <vue-simple-suggest :filter=\"filterFunction\"\n      v-model=\"content\" :class=\"{invalid_unit:invalid_unit}\"\n      :placeholder=\"type+' unit'\"\n      :list=\"list_of_units()\"\n      :filter-by-query=\"true\"  class=\"unit_input\" ref=\"unit_input\">\n      <input :placeholder=\"type+' unit'\" type=\"text\" autocomplete=\"off\" v-model=\"content\" v-on:keydown=\"unitKeyDown\">\n    </vue-simple-suggest>\n      </div>`});\n\n\n\n\nVue.component('reagent', {\n  props: ['uid', 'manual_mw', 'value'],\n\n  data: function () {\n    return {\n\n      content: this.value,\n\n      masses_data: masses_data,\n      reagentsList() { return masses_keys; },\n      filterFunction(a, b) {\n        return a.toLowerCase().replace(\" \", \"\").startsWith(b.toLowerCase().replace(\" \", \"\"));\n      }\n    }\n  },\n\n  watch: {\n    'content.name': {\n      immediate: false, handler() {\n        this.$emit('nameChange')\n        this.$emit('input', this.content)\n        console.log(\"name change\")\n        this.UpdateMW()\n      }\n    },\n\n    'manual_mw': {\n      immediate: true, handler() {\n\n        this.UpdateMW()\n      }\n    },\n    'content.mw': {\n      immediate: true, handler() {\n        console.log(\"mw_change\", this.content.mw);\n        this.$emit('input', this.content)\n\n      }\n    },\n\n  },\n  methods: {\n    UpdateMW() {\n      if (this.manual_mw != null) {\n        this.content.mw = this.manual_mw;\n      }\n      else if (this.reagentsList().includes(this.content.name)) {\n        this.content.mw = (masses_data[this.content.name]);\n      }\n      else {\n        console.log('setting to null')\n        this.content.mw = null;\n      }\n      setTimeout(\"run_thing('\" + this.uid + \"')\", 1)\n\n    },\n\n\n    Update() {\n\n      //if(self.mw != null){\n      setTimeout(\"run_thing('\" + this.uid + \"')\", 1);\n      // }\n\n\n    }\n  }\n\n\n\n  ,\n  template: `<div class=\"reagent\" style=\"display:inline-block\">\n          <vue-simple-suggest v-on:select=\"Update\"\n          placeholder=\"reagent\"\n          v-model=\"content.name\"\n          :list=\"reagentsList\"\n          :filter=\"filterFunction\"\n          :filter-by-query=\"true\">\n          <div class=\"mw\" v-if=\"content.mw != null\" :id=\"'mw_'+uid\">(MW: {{content.mw}})</div>\n          <input  spellcheck=\"false\" v-model=\"content.name\" autocomplete=\"off\" placeholder=\"reagent\" type=\"search\"  v-on:input=\"Update\" :id=\"'input_'+uid\"> \n          <div :id=\"'hidden_'+uid\" style=\"width: auto;\n          display: inline-block;\n          visibility: hidden;\n          position: fixed;\n          overflow:auto;\" class=\"measuring_tape\">\n          </div>\n        </vue-simple-suggest>\n          </div>`});\n\n\n\n\nVue.component('reagent_line', {\n  props: ['uid', 'final_volume', 'value', 'vol_toggle_hint'],\n  data: function () {\n    return {\n      content: this.value\n\n      ,\n\n      count: 0,\n      hover: false,\n\n\n\n\n      modalise() {\n        console.log(this);\n        this.$modal.show('trash_modal_' + this.uid);\n      },\n      unmodalise() {\n        console.log(this);\n        this.$modal.hide('trash_modal_' + this.uid);\n      },\n      modalise_settings() {\n        console.log(this);\n        this.$modal.show('settings_modal_' + this.uid);\n      },\n      unmodalise_settings() {\n        console.log(this);\n        this.$modal.hide('settings_modal_' + this.uid);\n      },\n      deleteMe() {\n        console.log(\"delete me\", this.uid);\n        this.$emit('deleteme', this.uid)\n\n      }\n    }\n  },\n  computed: {\n    displayName() {\n      if (this.content.reagent_info.name == '') {\n        return 'unnamed chemical';\n      }\n      else {\n        return this.content.reagent_info.name;\n      }\n    }\n  },\n  watch: {\n    content: {\n      handler(val) {\n        this.$emit('input', this.content)\n      },\n      deep: true\n    }\n  },\n\n\n  template: `\n<div class=\"reagent_line\" @mouseover=\"hover = true\"\n    @mouseleave=\"hover = false\">\n    <modal :name=\"'settings_modal_'+uid\">\n   <h3> {{displayName}}</h3>\n          \n          Custom molecular mass: <input type=\"number\"  step=\"any\"  placeholder=\"0.00\" v-model=\"content.manual_mw\"  class=\"classic\"/>\n       <div><button @click=\"unmodalise_settings()\">OK</button></div>\n          </modal>\n    <modal :name=\"'trash_modal_'+uid\">\n          Are you sure you want to delete  {{displayName}}?\n          <button  v-on:click=\"deleteMe()\">Yes</button> <button v-on:click=\"unmodalise()\">No</button>\n        </modal>\n    <div><conc_and_unit v-model=\"content.desired_concentration\"/><reagent @nameChange=\"content.manual_mw = null\" :manual_mw=\"content.manual_mw\" :uid=\"uid\" v-model=\"content.reagent_info\" /><needed_amount :vol_toggle_hint=\"vol_toggle_hint\" :mw=\"content.reagent_info.mw\" :final_volume=\"final_volume\" :desired_concentration=\"content.desired_concentration\" v-model=\"content.needed_amount\"></needed_amount><div style=\"display:inline-block\" class=\"buttons_container\" >&nbsp;<div  v-if=\"hover\"  class=\"buttons\"><i  v-on:click=\"modalise_settings()\" title=\"Set molecular weight\" class=\"fas fa-cog weight-button\"></i> &nbsp;<i title=\"Delete\" class=\"fas fa-trash trash-button\" v-on:click=\"modalise()\"></i></div></div>\n    </div>\n\n    \n    \n    \n    </div>\n    `\n});\n\nVue.component('conc_and_unit', {\n  props: ['value'],\n  data: function () {\n    return {\n      //{ number: null, type_per_litre: null, raw_unit:null, raw_number:null }\n\n      content: this.value\n    }\n  },\n  methods: {\n    onbackspacetoofar() {\n      console.log('too far')\n\n      const starting = (\"\" + this.content.raw_number);\n      //this.content.raw_number = starting.slice(0, -1); //delete last char but this seems confusing\n      this.$refs.number.focus()\n      this.$refs.number.type = 'text'\n      this.$refs.number.selectionStart = this.$refs.number.selectionEnd = this.$refs.number.value.toString().length\n      this.$refs.number.type = 'number'\n\n    },\n\n    numberKeypress: function (e) {\n      // console.log(e)\n      var inp = String.fromCharCode(e.keyCode);\n\n\n      const isLetter = /[a-zA-Z%]/.test(inp)\n      if (isLetter) {\n        e.preventDefault();\n\n\n        console.log(this.$refs.unit.$refs.unit_input);\n        this.$refs.unit.content = inp;\n        this.$refs.unit.$refs.unit_input.value = inp;\n        this.$refs.unit.$refs.unit_input.$refs.inputSlot.firstChild.focus();\n      }\n    }\n    ,\n    updateValue() {\n\n\n\n      if (concentrations[this.value.raw_unit]) {\n\n        this.value.type_per_litre = concentrations[this.value.raw_unit].type_per_litre\n        this.value.number = this.value.raw_number * concentrations[this.value.raw_unit].value\n\n        this.$emit('input', this.value)\n\n      }\n      else {\n\n        console.log(\"invalid_unit\")\n        this.value.number = null;\n        this.value.type_per_litre = null;\n        this.$emit('input', this.value);\n      }\n\n    }\n  },\n  watch: {\n    'value.raw_unit': function () { this.updateValue() },\n    'value.raw_number': function () { this.updateValue() }\n  },\n\n  template: `<div style=\"display:inline-block\"><input ref=\"number\" type=\"number\" v-on:keypress=\"numberKeypress\" step=\"any\" placeholder=\"conc.\" class=\"number\" v-model=\"value.raw_number\"></input><unit @backspace_too_far=\"onbackspacetoofar\" ref=\"unit\" type=\"conc\" v-model=\"value.raw_unit\" /></div>`\n}\n);\n\n\nVue.component('vol_and_unit', {\n  props: [\"num_hint\", \"unit_hint\", 'value'],\n  data: function () {\n    return {\n      content: this.value\n\n    }\n  },\n\n  methods: {\n    onbackspacetoofar() {\n      console.log('too far')\n\n      const starting = (\"\" + this.content.raw_number);\n      //this.content.raw_number = starting.slice(0, -1); //delete last char but this seems confusing\n      this.$refs.number.focus()\n      this.$refs.number.type = 'text'\n      this.$refs.number.selectionStart = this.$refs.number.selectionEnd = this.$refs.number.value.toString().length\n      this.$refs.number.type = 'number'\n\n    },\n    numberKeypress: function (e) {\n      // console.log(e)\n      var inp = String.fromCharCode(e.keyCode);\n\n\n      const isLetter = /[a-zA-Z%]/.test(inp)\n      if (isLetter) {\n        e.preventDefault();\n\n\n        console.log(this.$refs.unit.$refs.unit_input);\n        this.$refs.unit.content = inp;\n        this.$refs.unit.$refs.unit_input.value = inp;\n        this.$refs.unit.$refs.unit_input.$refs.inputSlot.firstChild.focus();\n      }\n    },\n    updateValue() {\n\n\n      let unit_details = volumes[this.content.raw_unit]\n      if (unit_details) {\n        this.content.computed_value_in_litres = this.content.raw_number * volumes[this.content.raw_unit]\n        this.$emit('input', this.content)\n      }\n      else {\n\n\n        this.content.computed_value_in_litres = null;\n        this.$emit('input', this.content)\n      }\n\n    }\n  },\n  watch: {\n    'content.raw_unit': { immediate: true, handler() { this.updateValue() } },\n    'content.raw_number': { immediate: true, handler() { this.updateValue() } }\n  },\n  template: `<div style=\"display:inline-block\"><input type=\"number\" v-on:keypress=\"numberKeypress\" step=\"any\" :title=\"num_hint\" placeholder=\"vol.\" class=\"number\" v-model=\"content.raw_number\"></input><unit @backspacetoofar=\"onbackspacetoofar\" ref=\"unit\" :title=\"unit_hint\" type=\"vol\" v-model=\"content.raw_unit\" class=\"vol_unit\"/></div>`\n}\n);\n\n\n\nvar data = {\n  buffer_name: null,\n  counter: 4,\n  reagents_store: [],\n  notes_store: [],\n  model: '',\n  about_open: false,\n  video_open: false,\n  final_volume: { raw_number: null, raw_unit: null, computed_value_in_litres: null },\n\n  onDeleteMe(x) {\n    console.log(this)\n    console.log(x)\n    let to_delete = -1;\n    for (let i in data.reagents_store) {\n      if (data.reagents_store[i].uid == x) {\n        to_delete = i\n      }\n    }\n    console.log(to_delete)\n    if (to_delete > -1) {\n      data.reagents_store.splice(to_delete, 1);\n\n    }\n  },\n  deleteNote(x) {\n    console.log(this)\n    console.log(x)\n    let to_delete = -1;\n    for (let i in data.notes_store) {\n      if (data.notes_store[i].uid == x) {\n        to_delete = i\n      }\n    }\n    console.log(to_delete)\n    if (to_delete > -1) {\n      data.notes_store.splice(to_delete, 1);\n\n    }\n  }\n\n\n}\n\nasync function loadNewData() {\n  var urlParams = new URLSearchParams(window.location.search);\n  let recipe = urlParams.get('recipe')\n  console.log(recipe)\n  if (!recipe) {\n    return\n  }\n\n\n  const cityRef = db.collection('recipes').doc(recipe);\n  const doc = await cityRef.get();\n  if (!doc.exists) {\n    console.log('No such document!');\n    return\n  } else {\n    console.log(\"good\")\n\n  }\n\n\n  let new_data = JSON.parse(doc.data().json)\n  console.log(new_data)\n\n\n\n  if (new_data) {\n\n    data['final_volume'] = new_data['final_volume']\n    data['reagents_store'] = new_data['reagents_store']\n    data['notes_store'] = new_data['notes_store']\n    data['buffer_name'] = new_data['buffer_name']\n  }\n\n}\n\nvar app;\n\nvar test;\n\nasync function startup() {\n\n\n  await loadNewData();\n\n  document.getElementById('spinner').style.display = \"none\"\n\n  app = new Vue({\n    el: '#app',\n    data: data,\n    computed: {\n      compoundTitle() {\n        if (this.final_volume.computed_value_in_litres == null) {\n          return \"First, please enter a final volume above, with a unit\"\n        }\n        else {\n          return \"\"\n        }\n\n      }\n    },\n    methods: {\n\n\n\n\n      AddCompound() {\n        window.onbeforeunload = function () {\n          return true;\n        };\n\n        var max_uid = 0\n\n        for (let i in data.reagents_store) {\n          max_uid = Math.max(\n            data.reagents_store[i].uid, max_uid)\n        }\n\n        data.reagents_store.push(\n          { \"uid\": (max_uid + 1), \"info\": { \"desired_concentration\": { \"number\": null, \"type_per_litre\": null, \"raw_unit\": null, \"raw_number\": null }, \"manual_mw\": null, \"reagent_info\": { \"name\": null, \"mw\": null }, \"needed_amount\": { \"mass_unit\": null, \"chosen_input_method\": \"weight\", \"vol_unit\": \"\", \"stock_concentration\": { \"raw_unit\": null, \"raw_number\": null, \"number\": null, \"type_per_litre\": null } } } }\n\n        );\n        data.counter++;\n      },\n      AddNote() {\n\n\n        var max_uid = 0\n\n        for (let i in data.notes_store) {\n          max_uid = Math.max(\n            data.notes_store[i].uid, max_uid)\n        }\n\n        data.notes_store.push(\n          { \"uid\": (max_uid + 1), text: '', hover: false }\n\n        );\n        data.counter++;\n      }\n\n\n    }\n\n  });\n\n  $('.overlay').hide();\n}\n\n\n\n\n\n\nfunction makeid(length) {\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\n\n\nvar db = firebase.firestore();\nasync function permalink() {\n\n  console.log('test')\n  let time = Date.now()\n  let to_store = { \"notes_store\": data.notes_store, \"final_volume\": data.final_volume, \"buffer_name\": data.buffer_name, \"reagents_store\": data.reagents_store };\n  let json = JSON.stringify(to_store)\n  const data_for_db = {\n    json: json,\n    time: time,\n    version: 1\n\n  };\n\n  let id = makeid(10);\n  // Add a new document in collection \"cities\" with ID 'LA'\n  const res = await db.collection('recipes').doc(id).set(data_for_db);\n  window.onbeforeunload = null;\n\n  console.log(\"/?recipe=\" + id);\n  window.location.href = \"/?recipe=\" + id;\n\n}\n\nwindow.permalink = permalink"],"sourceRoot":""}