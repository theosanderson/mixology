{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/masses_volumes.js","webpack:///./src/components/NeededAmount.vue?6e05","webpack:///src/components/NeededAmount.vue","webpack:///./src/components/NeededAmount.vue?8c29","webpack:///./src/components/NeededAmount.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","masses","volumes","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","directives","rawName","expression","class","input_type_button_image","vol_toggle_hint_internal","vol_toggle_hint","attrs","on","$event","toggleType","input_method","needed_amount_mass","_v","_s","model","content","callback","$$v","$set","_e","needed_amount_volume","staticRenderFns","round","precision","number","parseFloat","toPrecision","formatNumber","numberOfFloorDigits","String","floorValue","padding","isInteger","roundedValue","methods","desired_concentration_is_volumetric","alert","chosen_input_method","computed","vol_toggle_large_tooltip","includes","desired_concentration","type_per_litre","final_volume","question_marks","undefined","mass_unit","precision_level","val","mw","mw_message","vol_unit","stock_concentration","watch","handler","$emit","deep","component","Vue","use","VTooltip","defaultHtml","VueSimpleSuggest","NeededAmount","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","vmodal","masses_data","Array","masses_keys","run_thing","uid","elemDiv","document","getElementById","elemInput","innerText","x","clientWidth","target","Math","min","style","left","$","getJSON","console","log","keys","sort","a","b","toLowerCase","localeCompare","startup","concentrations","entries","mass_key","mass_value","vol_key","vol_value","sorted_masses","sorted_concentrations","sorted_volumes","props","unitKeyDown","e","code","$refs","unit_input","inputElement","selectionEnd","preventDefault","stopPropagation","filterFunction","replace","startsWith","list_of_units","type","invalid_unit","template","reagentsList","immediate","UpdateMW","manual_mw","setTimeout","Update","count","hover","modalise","$modal","show","unmodalise","hide","modalise_settings","unmodalise_settings","deleteMe","displayName","reagent_info","onbackspacetoofar","raw_number","focus","selectionStart","toString","numberKeypress","inp","fromCharCode","keyCode","isLetter","test","unit","inputSlot","firstChild","updateValue","raw_unit","unit_details","computed_value_in_litres","buffer_name","counter","reagents_store","notes_store","about_open","video_open","onDeleteMe","to_delete","deleteNote","loadNewData","urlParams","URLSearchParams","location","search","recipe","cityRef","db","collection","doc","exists","new_data","JSON","parse","json","display","el","compoundTitle","AddCompound","onbeforeunload","max_uid","max","AddNote","text","makeid","characters","charactersLength","charAt","floor","random","firestore","permalink","time","Date","now","to_store","stringify","data_for_db","version","id","set","href"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,qZCvJLyC,EAAS,CAAE,EAAK,EAAG,GAAM,KAAM,GAAM,IAAK,GAAM,KAAM,GAAM,MAC5DC,EAAU,CAAE,EAAK,EAAG,GAAM,KAAM,GAAM,KAAM,GAAM,KAAM,OAAU,EAAG,MAAS,EAAG,OAAU,EAAG,MAAS,GCDvGC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,WAAWC,YAAY,CAAC,QAAU,iBAAiB,CAACH,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,IAAI,CAACI,WAAW,CAAC,CAACpC,KAAK,UAAUqC,QAAQ,YAAY5B,MAAOmB,EAA4B,yBAAEU,WAAW,6BAA6BJ,YAAY,uCAAuCK,MAAM,CAACX,EAAIY,wBAAwBZ,EAAIa,yBAA2Bb,EAAIc,gBAAkB,YAAa,IAAIC,MAAM,CAAC,MAAQ,gDAAgDC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,mBAAsC,UAAlBlB,EAAImB,aAAwBf,EAAG,MAAM,CAACG,YAAY,CAAC,QAAU,iBAAiB,CAACH,EAAG,MAAM,CAACI,WAAW,CAAC,CAACpC,KAAK,UAAUqC,QAAQ,YAAY5B,MAAOmB,EAAIoB,mBAAmB,GAAIV,WAAW,0BAA0BJ,YAAY,iBAAiB,CAACN,EAAIqB,GAAGrB,EAAIsB,GAAGtB,EAAIoB,mBAAmB,OAAOhB,EAAG,OAAO,CAACjB,IAAI,OAAO4B,MAAM,CAAC,KAAO,QAAQQ,MAAM,CAAC1C,MAAOmB,EAAIwB,QAAiB,UAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,QAAS,YAAaE,IAAMhB,WAAW,wBAAwB,GAAGV,EAAI4B,KAAwB,UAAlB5B,EAAImB,aAAwBf,EAAG,MAAM,CAACG,YAAY,CAAC,QAAU,iBAAiB,CAACH,EAAG,MAAM,CAACI,WAAW,CAAC,CAACpC,KAAK,UAAUqC,QAAQ,YAAY5B,MAAOmB,EAAI6B,qBAAqB,GAAInB,WAAW,4BAA4BJ,YAAY,iBAAiB,CAACN,EAAIqB,GAAGrB,EAAIsB,GAAGtB,EAAI6B,qBAAqB,OAAOzB,EAAG,OAAO,CAACjB,IAAI,MAAMmB,YAAY,YAAYS,MAAM,CAAC,KAAO,OAAOQ,MAAM,CAAC1C,MAAOmB,EAAIwB,QAAgB,SAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,QAAS,WAAYE,IAAMhB,WAAW,sBAAsBV,EAAIqB,GAAG,QAAQjB,EAAG,gBAAgB,CAACmB,MAAM,CAAC1C,MAAOmB,EAAIwB,QAA2B,oBAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,QAAS,sBAAuBE,IAAMhB,WAAW,iCAAiCV,EAAIqB,GAAG,YAAY,GAAGrB,EAAI4B,QACzxDE,EAAkB,GCEtB,G,wCAAA,OACA,IAEA,mMAEA,SAASC,EAAMC,EAAWC,GACxB,OAAOC,WAAWD,EAAOE,YAAYH,IAGvC,SAASI,EAAaJ,EAAWC,GAC/B,GAAsB,qBAAXA,GAAqC,OAAXA,EAAiB,MAAO,GAE7D,GAAe,IAAXA,EAAc,MAAO,IAEzB,IAAF,SACA,gBAEA,+BAEA,mBACA,mBAEE,GAAII,EAAsBL,EACxB,OAAOM,OAAOC,GAEd,IAAJ,cAEI,OAAIC,EAAU,EACRC,EACK,GAAf,4CAEe,GAAf,wCAGaH,OAAOI,GAIpB,OACE,MACF,wEAEE1G,KAAM,WACJ,MAAO,CACLwF,QAASvB,KAAKpB,MACdgC,0BAA0B,IAG9B8B,QAAS,CACPzB,WADJ,WAEMjB,KAAKY,0BAA2B,EAC5BZ,KAAK2C,qCACPC,MAAM,qGAEgC,UAApC5C,KAAKuB,QAAQsB,oBACf7C,KAAKuB,QAAQsB,oBAAsB,SAKnC7C,KAAKuB,QAAQsB,oBAAsB,WAOzCC,SACF,CACIC,yBADJ,WAEM,OAAI/C,KAAKY,yBAA2BZ,KAAKa,gBAChC,oDAGA,IAIXK,aAAc,WACZ,OAAIlB,KAAK2C,oCACA,SAEF3C,KAAKuB,QAAQsB,qBAEtBF,oCAAqC,WACnC,OAAI,CAAC,KAAM,QAAS,SAASK,SAAShD,KAAKiD,sBAAsBC,iBAUnE/B,mBA3BJ,WA4BM,IAAKnB,KAAKmD,aACR,MAAO,CAACC,EAAgB,mFAG1B,QAAsCC,GAAlCzD,EAAOI,KAAKuB,QAAQ+B,WACtB,MAAO,CAACF,EAAgB,iGAG1B,IAAKpD,KAAKiD,sBAAsBjB,OAC9B,MAAO,CAACoB,EAAgB,sFAE1B,GAAiD,SAA7CpD,KAAKiD,sBAAsBC,eAA2B,CAExD,IAAR,4BAEA,wDACQ,MAAO,CAACf,EAAaoB,EAAiBC,GAAM,IAEpD,iEAEQ,IAAR,4BACA,gEACQ,MAAO,CAACrB,EAAaoB,EAAiB,GAA9C,IAGQ,OAAKvD,KAAKyD,GAGH,CAACL,EAAgB,uGAFf,CAACA,EAAgBM,IAK9B9B,qBA3DJ,WA4DM,IAAK5B,KAAKmD,aACR,MAAO,CAACC,EAAgB,mFAG1B,QAAsCC,GAAlCxD,EAAQG,KAAKuB,QAAQoC,UACvB,MAAO,CAACP,EAAgB,mGAG1B,IAAKpD,KAAKiD,sBAAsBjB,OAC9B,MAAO,CAACoB,EAAgB,sFAG1B,IAAKpD,KAAKuB,QAAQqC,oBAAoB5B,OACpC,MAAO,CAACoB,EAAgB,iGAI1B,GAAIpD,KAAKiD,sBAAsBC,gBAAkBlD,KAAKuB,QAAQqC,oBAAoBV,eAAgB,CAEhG,IAAR,2BACA,kGACQ,MAAO,CAACf,EAAaoB,EAAiBC,GAAM,IAGpD,gHACQ,IAAKxD,KAAKyD,GACR,MAAO,CAACL,EAAgBM,GAE1B,IAAR,2BACA,0GACQ,MAAO,CAACvB,EAAaoB,EAAiB,GAA9C,IAEA,gHACQ,IAAKvD,KAAKyD,GACR,MAAO,CAACL,EAAgBM,GAE1B,IAAR,2BACA,0GACQ,MAAO,CAACvB,EAAaoB,EAAiB,GAA9C,IAGQ,MAAO,CAACH,EAAgB,uEAQ5BzC,wBA7GJ,WA8GM,MAAyB,UAArBX,KAAKkB,aACA,yBAGA,aAKb2C,MAAO,CACLtC,QAAS,CACPuC,QADN,WAEQ9D,KAAK+D,MAAM,QAAS/D,KAAKuB,UAE3ByC,MAAM,KCnM0U,I,YCOlVC,EAAY,eACd,EACAnE,EACA+B,GACA,EACA,KACA,KACA,MAIa,EAAAoC,E,6BCRfC,OAAIC,IAAIC,OAAU,CAChBC,aAAa,IAIfH,OAAID,UAAU,qBAAsBK,QAGpCJ,OAAID,UAAU,gBAAiBM,GAK/B,IAAIC,EAAiB,CACnBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,eACnBC,MAAO,6CAGTC,OAASC,cAAcR,GAGvBN,OAAIC,IAAIc,KAER,IAAIC,EAAcC,QACdC,EAAc,GAqBlB,SAASC,EAAUC,GACjB,IAAIC,EAAUC,SAASC,eAAe,UAAYH,GAC9CI,EAAYF,SAASC,eAAe,SAAWH,GACnDC,EAAQI,UAAYD,EAAU9G,MAC9B,IAAIgH,EAAIL,EAAQM,YAAc,GAC1BC,EAASN,SAASC,eAAe,MAAQH,GAC/B,MAAVQ,IACFF,EAAIG,KAAKC,IAAIJ,EAAG,KAChBJ,SAASC,eAAe,MAAQH,GAAKW,MAAMC,KAAON,EAAI,MA3B1DO,IAAEC,QAAQ,eAAe,SAAUrK,GACjCsK,QAAQC,IAAIvK,GACZmJ,EAAcnJ,EACdqJ,EAAc5I,OAAO+J,KAAKxK,GAAMyK,MAAK,SAAUC,EAAGC,GAChD,OAAOD,EAAEE,cAAcC,cAAcF,EAAEC,kBAIzCE,QAuBFpH,OAAO4F,UAAYA,EAOnB,IAFA,IAAIyB,EAAiB,GAErB,MAAqCtK,OAAOuK,QAAQnH,GAApD,eACE,IAD2D,6BAAjDoH,EAAiD,KAAvCC,EAAuC,KAC3D,MAAmCzK,OAAOuK,QAAQlH,GAAlD,eAA4D,8BAAhDqH,EAAgD,KAAvCC,EAAuC,KACpDhJ,EAAO6I,EAAW,IAAME,EACxBtI,EAAQqI,EAAaE,EACrBjE,EAAiB,QACvB4D,EAAe3I,GAAQ,CAAE,MAASS,EAAO,eAAkBsE,GAI/D4D,EAAe,WAAa,CAAElI,MAAO,GAAIsE,eAAgB,SAIzD,IAAK,IAAL,MAAmC1G,OAAOuK,QAAQlH,GAAlD,eAA4D,8BAAhDqH,EAAgD,KAAvCC,EAAuC,KAEpDhJ,EAAO,OAAc+I,EACrBtI,EAAQ,EAAIuI,EACZjE,EAAiB,QACvB4D,EAAe3I,GAAQ,CAAE,MAASS,EAAO,eAAkBsE,GAG7D4D,EAAe,KAAO,CAAElI,MAAO,EAAGsE,eAAgB,SAClD4D,EAAe,MAAQ,CAAElI,MAAO,KAAMsE,eAAgB,SACtD4D,EAAe,MAAQ,CAAElI,MAAO,KAAMsE,eAAgB,SACtD4D,EAAe,MAAQ,CAAElI,MAAO,KAAMsE,eAAgB,SAEtD,IAAK,IAAL,OAAmC1G,OAAOuK,QAAQlH,GAAlD,gBAA4D,gCAAhDqH,GAAgD,MAAvCC,GAAuC,MAEpDhJ,GAAO,SAAgB+I,GACvBtI,GAAQ,EAAIuI,GACZjE,GAAiB,QACvB4D,EAAe3I,IAAQ,CAAE,MAASS,GAAO,eAAkBsE,IAI7D4D,EAAe,WAAa,CAAElI,MAAO,IAAMsE,eAAgB,UAE3D4D,EAAe,KAAO,CAAElI,MAAO,EAAGsE,eAAgB,KAGlD,IAAIkE,GAAgB5K,OAAO+J,KAAK3G,GAAQ4G,OACpCa,GAAwB7K,OAAO+J,KAAKO,GAAgBN,OACpDc,GAAiB9K,OAAO+J,KAAK1G,GAAS2G,OAY1CH,QAAQC,IAAIQ,GAEZ5C,OAAID,UAAU,OAAQ,CACpBsD,MAAO,CAAC,QAAS,QACjBxL,KAAM,WACJ,MAAO,CACLwF,QAASvB,KAAKpB,QAKlB8D,QAAS,CAEP8E,YAAa,SAAUC,GAEP,aAAVA,EAAEC,MACmD,GAAnD1H,KAAK2H,MAAMC,WAAWC,aAAaC,eACrC9H,KAAK+D,MAAM,oBAAqB,QAChC0D,EAAEM,iBACFN,EAAEO,oBAURC,eAlBO,SAkBQxB,EAAGC,GAChB,OAAOD,EAAEE,cAAcuB,QAAQ,IAAK,IAAIC,WAAWzB,EAAEC,cAAcuB,QAAQ,IAAK,MAElFE,cArBO,WAsBL,MAAiB,QAAbpI,KAAKqI,KACChB,GAEY,QAAbrH,KAAKqI,KACJjB,GAEY,OAAbpH,KAAKqI,KACJf,QADL,IAQTxE,SAAU,CACRwF,aADQ,WAEN,OAAItI,KAAKoI,gBAAgBpF,SAAShD,KAAKuB,WAQ3CsC,MAAO,CACLtC,QAAS,SAAU3C,GAEjBoB,KAAK+D,MAAM,QAASnF,KAMxB2J,SAAU,idAaZrE,OAAID,UAAU,UAAW,CACvBsD,MAAO,CAAC,MAAO,YAAa,SAE5BxL,KAAM,WACJ,MAAO,CAELwF,QAASvB,KAAKpB,MAEdsG,YAAaA,EACbsD,aALK,WAKY,OAAOpD,GACxB6C,eANK,SAMUxB,EAAGC,GAChB,OAAOD,EAAEE,cAAcuB,QAAQ,IAAK,IAAIC,WAAWzB,EAAEC,cAAcuB,QAAQ,IAAK,QAKtFrE,MAAO,CACL,eAAgB,CACd4E,WAAW,EAAO3E,QADJ,WAEZ9D,KAAK+D,MAAM,cACX/D,KAAK+D,MAAM,QAAS/D,KAAKuB,SACzB8E,QAAQC,IAAI,eACZtG,KAAK0I,aAIT,UAAa,CACXD,WAAW,EAAM3E,QADN,WAGT9D,KAAK0I,aAGT,aAAc,CACZD,WAAW,EAAM3E,QADL,WAEVuC,QAAQC,IAAI,YAAatG,KAAKuB,QAAQkC,IACtCzD,KAAK+D,MAAM,QAAS/D,KAAKuB,YAM/BmB,QAAS,CACPgG,SADO,WAEiB,MAAlB1I,KAAK2I,UACP3I,KAAKuB,QAAQkC,GAAKzD,KAAK2I,UAEhB3I,KAAKwI,eAAexF,SAAShD,KAAKuB,QAAQpD,MACjD6B,KAAKuB,QAAQkC,GAAMyB,EAAYlF,KAAKuB,QAAQpD,OAG5CkI,QAAQC,IAAI,mBACZtG,KAAKuB,QAAQkC,GAAK,MAEpBmF,WAAW,cAAgB5I,KAAKsF,IAAM,KAAM,IAK9CuD,OAjBO,WAoBLD,WAAW,cAAgB5I,KAAKsF,IAAM,KAAM,KAUhDiD,SAAU,qyBAqBZrE,OAAID,UAAU,eAAgB,CAC5BsD,MAAO,CAAC,MAAO,eAAgB,QAAS,mBACxCxL,KAAM,WACJ,MAAO,CACLwF,QAASvB,KAAKpB,MAIdkK,MAAO,EACPC,OAAO,EAKPC,SAXK,WAYH3C,QAAQC,IAAItG,MACZA,KAAKiJ,OAAOC,KAAK,eAAiBlJ,KAAKsF,MAEzC6D,WAfK,WAgBH9C,QAAQC,IAAItG,MACZA,KAAKiJ,OAAOG,KAAK,eAAiBpJ,KAAKsF,MAEzC+D,kBAnBK,WAoBHhD,QAAQC,IAAItG,MACZA,KAAKiJ,OAAOC,KAAK,kBAAoBlJ,KAAKsF,MAE5CgE,oBAvBK,WAwBHjD,QAAQC,IAAItG,MACZA,KAAKiJ,OAAOG,KAAK,kBAAoBpJ,KAAKsF,MAE5CiE,SA3BK,WA4BHlD,QAAQC,IAAI,YAAatG,KAAKsF,KAC9BtF,KAAK+D,MAAM,WAAY/D,KAAKsF,QAKlCxC,SAAU,CACR0G,YADQ,WAEN,MAAsC,IAAlCxJ,KAAKuB,QAAQkI,aAAatL,KACrB,mBAGA6B,KAAKuB,QAAQkI,aAAatL,OAIvC0F,MAAO,CACLtC,QAAS,CACPuC,QADO,SACCN,GACNxD,KAAK+D,MAAM,QAAS/D,KAAKuB,UAE3ByC,MAAM,IAKVuE,SAAU,w2CAuBZrE,OAAID,UAAU,gBAAiB,CAC7BsD,MAAO,CAAC,SACRxL,KAAM,WACJ,MAAO,CAGLwF,QAASvB,KAAKpB,QAGlB8D,QAAS,CACPgH,kBADO,WAELrD,QAAQC,IAAI,WAEWtG,KAAKuB,QAAQoI,WAEpC3J,KAAK2H,MAAM3F,OAAO4H,QAClB5J,KAAK2H,MAAM3F,OAAOqG,KAAO,OACzBrI,KAAK2H,MAAM3F,OAAO6H,eAAiB7J,KAAK2H,MAAM3F,OAAO8F,aAAe9H,KAAK2H,MAAM3F,OAAOpD,MAAMkL,WAAWvN,OACvGyD,KAAK2H,MAAM3F,OAAOqG,KAAO,UAI3B0B,eAAgB,SAAUtC,GAExB,IAAIuC,EAAM3H,OAAO4H,aAAaxC,EAAEyC,SAG1BC,EAAW,YAAYC,KAAKJ,GAC9BG,IACF1C,EAAEM,iBAGF1B,QAAQC,IAAItG,KAAK2H,MAAM0C,KAAK1C,MAAMC,YAClC5H,KAAK2H,MAAM0C,KAAK9I,QAAUyI,EAC1BhK,KAAK2H,MAAM0C,KAAK1C,MAAMC,WAAWhJ,MAAQoL,EACzChK,KAAK2H,MAAM0C,KAAK1C,MAAMC,WAAWD,MAAM2C,UAAUC,WAAWX,UAIhEY,YA9BO,WAkCD1D,EAAe9G,KAAKpB,MAAM6L,WAE5BzK,KAAKpB,MAAMsE,eAAiB4D,EAAe9G,KAAKpB,MAAM6L,UAAUvH,eAChElD,KAAKpB,MAAMoD,OAAShC,KAAKpB,MAAM+K,WAAa7C,EAAe9G,KAAKpB,MAAM6L,UAAU7L,MAEhFoB,KAAK+D,MAAM,QAAS/D,KAAKpB,SAKzByH,QAAQC,IAAI,gBACZtG,KAAKpB,MAAMoD,OAAS,KACpBhC,KAAKpB,MAAMsE,eAAiB,KAC5BlD,KAAK+D,MAAM,QAAS/D,KAAKpB,UAK/BiF,MAAO,CACL,iBAAkB,WAAc7D,KAAKwK,eACrC,mBAAoB,WAAcxK,KAAKwK,gBAGzCjC,SAAU,8RAKZrE,OAAID,UAAU,eAAgB,CAC5BsD,MAAO,CAAC,WAAY,YAAa,SACjCxL,KAAM,WACJ,MAAO,CACLwF,QAASvB,KAAKpB,QAKlB8D,QAAS,CACPgH,kBADO,WAELrD,QAAQC,IAAI,WAEWtG,KAAKuB,QAAQoI,WAEpC3J,KAAK2H,MAAM3F,OAAO4H,QAClB5J,KAAK2H,MAAM3F,OAAOqG,KAAO,OACzBrI,KAAK2H,MAAM3F,OAAO6H,eAAiB7J,KAAK2H,MAAM3F,OAAO8F,aAAe9H,KAAK2H,MAAM3F,OAAOpD,MAAMkL,WAAWvN,OACvGyD,KAAK2H,MAAM3F,OAAOqG,KAAO,UAG3B0B,eAAgB,SAAUtC,GAExB,IAAIuC,EAAM3H,OAAO4H,aAAaxC,EAAEyC,SAG1BC,EAAW,YAAYC,KAAKJ,GAC9BG,IACF1C,EAAEM,iBAGF1B,QAAQC,IAAItG,KAAK2H,MAAM0C,KAAK1C,MAAMC,YAClC5H,KAAK2H,MAAM0C,KAAK9I,QAAUyI,EAC1BhK,KAAK2H,MAAM0C,KAAK1C,MAAMC,WAAWhJ,MAAQoL,EACzChK,KAAK2H,MAAM0C,KAAK1C,MAAMC,WAAWD,MAAM2C,UAAUC,WAAWX,UAGhEY,YA5BO,WA+BL,IAAIE,EAAe7K,EAAQG,KAAKuB,QAAQkJ,UACpCC,GACF1K,KAAKuB,QAAQoJ,yBAA2B3K,KAAKuB,QAAQoI,WAAa9J,EAAQG,KAAKuB,QAAQkJ,UACvFzK,KAAK+D,MAAM,QAAS/D,KAAKuB,WAKzBvB,KAAKuB,QAAQoJ,yBAA2B,KACxC3K,KAAK+D,MAAM,QAAS/D,KAAKuB,YAK/BsC,MAAO,CACL,mBAAoB,CAAE4E,WAAW,EAAM3E,QAAnB,WAA+B9D,KAAKwK,gBACxD,qBAAsB,CAAE/B,WAAW,EAAM3E,QAAnB,WAA+B9D,KAAKwK,iBAE5DjC,SAAU,sUAMZ,IAAIxM,GAAO,CACT6O,YAAa,KACbC,QAAS,EACTC,eAAgB,GAChBC,YAAa,GACbzJ,MAAO,GACP0J,YAAY,EACZC,YAAY,EACZ9H,aAAc,CAAEwG,WAAY,KAAMc,SAAU,KAAME,yBAA0B,MAE5EO,WAVS,SAUEtF,GACTS,QAAQC,IAAItG,MACZqG,QAAQC,IAAIV,GACZ,IAAIuF,GAAa,EACjB,IAAK,IAAI9O,KAAKN,GAAK+O,eACb/O,GAAK+O,eAAezO,GAAGiJ,KAAOM,IAChCuF,EAAY9O,GAGhBgK,QAAQC,IAAI6E,GACRA,GAAa,GACfpP,GAAK+O,eAAerN,OAAO0N,EAAW,IAI1CC,WAzBS,SAyBExF,GACTS,QAAQC,IAAItG,MACZqG,QAAQC,IAAIV,GACZ,IAAIuF,GAAa,EACjB,IAAK,IAAI9O,KAAKN,GAAKgP,YACbhP,GAAKgP,YAAY1O,GAAGiJ,KAAOM,IAC7BuF,EAAY9O,GAGhBgK,QAAQC,IAAI6E,GACRA,GAAa,GACfpP,GAAKgP,YAAYtN,OAAO0N,EAAW,K,SAQ1BE,K,gGAAf,+GACMC,EAAY,IAAIC,gBAAgB9L,OAAO+L,SAASC,QAChDC,EAASJ,EAAU9M,IAAI,UAC3B6H,QAAQC,IAAIoF,GACPA,EAJP,wDASQC,EAAUC,GAAGC,WAAW,WAAWC,IAAIJ,GAT/C,SAUoBC,EAAQnN,MAV5B,UAUQsN,EAVR,OAWOA,EAAIC,OAXX,wBAYI1F,QAAQC,IAAI,qBAZhB,2BAeID,QAAQC,IAAI,QAfhB,QAoBM0F,EAAWC,KAAKC,MAAMJ,EAAI/P,OAAOoQ,MACrC9F,QAAQC,IAAI0F,GAIRA,IAEFjQ,GAAK,gBAAkBiQ,EAAS,gBAChCjQ,GAAK,kBAAoBiQ,EAAS,kBAClCjQ,GAAK,eAAiBiQ,EAAS,eAC/BjQ,GAAK,eAAiBiQ,EAAS,gBA9BnC,4C,kCAuCenF,K,gGAAf,8GAGQwE,KAHR,OAKE7F,SAASC,eAAe,WAAWQ,MAAMmG,QAAU,OAE7C,IAAIlI,OAAI,CACZmI,GAAI,OACJtQ,KAAMA,GACN+G,SAAU,CACRwJ,cADQ,WAEN,OAAkD,MAA9CtM,KAAKmD,aAAawH,yBACb,wDAGA,KAKbjI,QAAS,CAKP6J,YALO,WAML9M,OAAO+M,eAAiB,WACtB,OAAO,GAGT,IAAIC,EAAU,EAEd,IAAK,IAAIpQ,KAAKN,GAAK+O,eACjB2B,EAAU1G,KAAK2G,IACb3Q,GAAK+O,eAAezO,GAAGiJ,IAAKmH,GAGhC1Q,GAAK+O,eAAejO,KAClB,CAAE,IAAQ4P,EAAU,EAAI,KAAQ,CAAE,sBAAyB,CAAE,OAAU,KAAM,eAAkB,KAAM,SAAY,KAAM,WAAc,MAAQ,UAAa,KAAM,aAAgB,CAAE,KAAQ,KAAM,GAAM,MAAQ,cAAiB,CAAE,UAAa,KAAM,oBAAuB,SAAU,SAAY,GAAI,oBAAuB,CAAE,SAAY,KAAM,WAAc,KAAM,OAAU,KAAM,eAAkB,UAGxY1Q,GAAK8O,WAEP8B,QAvBO,WA0BL,IAAIF,EAAU,EAEd,IAAK,IAAIpQ,KAAKN,GAAKgP,YACjB0B,EAAU1G,KAAK2G,IACb3Q,GAAKgP,YAAY1O,GAAGiJ,IAAKmH,GAG7B1Q,GAAKgP,YAAYlO,KACf,CAAE,IAAQ4P,EAAU,EAAIG,KAAM,GAAI7D,OAAO,IAG3ChN,GAAK8O,cAQX1E,IAAE,YAAYiD,OAlEhB,2C,yBAsEA,SAASyD,GAAOtQ,GAId,IAHA,IAAIa,EAAS,GACT0P,EAAa,iEACbC,EAAmBD,EAAWvQ,OACzBF,EAAI,EAAGA,EAAIE,EAAQF,IAC1Be,GAAU0P,EAAWE,OAAOjH,KAAKkH,MAAMlH,KAAKmH,SAAWH,IAEzD,OAAO3P,EAGT,IAAIwO,GAAK7G,OAASoI,Y,SACHC,K,gGAAf,mHAEE/G,QAAQC,IAAI,QACR+G,EAAOC,KAAKC,MACZC,EAAW,CAAE,YAAezR,GAAKgP,YAAa,aAAgBhP,GAAKoH,aAAc,YAAepH,GAAK6O,YAAa,eAAkB7O,GAAK+O,gBACzIqB,EAAOF,KAAKwB,UAAUD,GACpBE,EAAc,CAClBvB,KAAMA,EACNkB,KAAMA,EACNM,QAAS,GAIPC,EAAKf,GAAO,IAblB,SAcoBjB,GAAGC,WAAW,WAAWC,IAAI8B,GAAIC,IAAIH,GAdzD,cAeEjO,OAAO+M,eAAiB,KAExBnG,QAAQC,IAAI,YAAcsH,GAC1BnO,OAAO+L,SAASsC,KAAO,YAAcF,EAlBvC,4C,yBAsBAnO,OAAO2N,UAAYA","file":"js/app.07e872d1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","let masses = { \"g\": 1, \"mg\": 1e-3, \"kg\": 1e3, \"ug\": 1e-6, \"ng\": 1e-9 }\nlet volumes = { \"l\": 1, \"ml\": 1e-3, \"ul\": 1e-6, \"nl\": 1e-9, \"litres\": 1, \"litre\": 1, \"liters\": 1, \"liter\": 1 }\n\nexport { masses, volumes }\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"computed\",staticStyle:{\"display\":\"inline-block\"}},[_c('div',{staticClass:\"button_holder_flask\"},[_c('i',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.vol_toggle_large_tooltip),expression:\"vol_toggle_large_tooltip\"}],staticClass:\"fas change-input-type-button toggler\",class:[_vm.input_type_button_image,_vm.vol_toggle_hint_internal & _vm.vol_toggle_hint ? 'highlight': ''],attrs:{\"title\":\"Toggle between measuring out mass and volume\"},on:{\"click\":function($event){return _vm.toggleType()}}})]),(_vm.input_method=='weight')?_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.needed_amount_mass[1]),expression:\"needed_amount_mass[1]\"}],staticClass:\"needed_number\"},[_vm._v(_vm._s(_vm.needed_amount_mass[0]))]),_c('unit',{key:\"mass\",attrs:{\"type\":\"mass\"},model:{value:(_vm.content.mass_unit),callback:function ($$v) {_vm.$set(_vm.content, \"mass_unit\", $$v)},expression:\"content.mass_unit\"}})],1):_vm._e(),(_vm.input_method=='volume')?_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.needed_amount_volume[1]),expression:\"needed_amount_volume[1]\"}],staticClass:\"needed_number\"},[_vm._v(_vm._s(_vm.needed_amount_volume[0]))]),_c('unit',{key:\"vol\",staticClass:\"vol_unit2\",attrs:{\"type\":\"vol\"},model:{value:(_vm.content.vol_unit),callback:function ($$v) {_vm.$set(_vm.content, \"vol_unit\", $$v)},expression:\"content.vol_unit\"}}),_vm._v(\" of \"),_c('conc_and_unit',{model:{value:(_vm.content.stock_concentration),callback:function ($$v) {_vm.$set(_vm.content, \"stock_concentration\", $$v)},expression:\"content.stock_concentration\"}}),_vm._v(\" stock \")],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<script>\nimport {masses,volumes} from '../masses_volumes.js'\nlet question_marks = '???'\nlet precision_level = 4;\n\nlet mw_message = \"Unable to calculate the required value: you need to add a molecular weight to this reagent to make this conversion. Either choose a reagent from the suggestion list or click on the cog icon.\";\n\nfunction round(precision, number) {\n  return parseFloat(number.toPrecision(precision))\n}\n\nfunction formatNumber(precision, number) {\n  if (typeof number === 'undefined' || number === null) return ''\n\n  if (number === 0) return '0'\n\n  const roundedValue = round(precision, number)\n  const floorValue = Math.floor(roundedValue)\n\n  const isInteger = Math.abs(floorValue - roundedValue) < Number.EPSILON\n\n  const numberOfFloorDigits = String(floorValue).length\n  const numberOfDigits = String(roundedValue).length\n\n  if (numberOfFloorDigits > precision) {\n    return String(floorValue)\n  } else {\n    const padding = isInteger ? precision - numberOfFloorDigits : precision - numberOfDigits + 1\n\n    if (padding > 0) {\n      if (isInteger) {\n        return `${String(floorValue)}.${'0'.repeat(padding)}`\n      } else {\n        return `${String(roundedValue)}${'0'.repeat(padding)}`\n      }\n    } else {\n      return String(roundedValue)\n    }\n  }\n}\n  export default{\n        props:\n    ['final_volume', 'mw', 'desired_concentration', 'value', 'vol_toggle_hint'],\n\n  data: function () {\n    return {\n      content: this.value,\n      vol_toggle_hint_internal: true\n    }\n  },\n  methods: {\n    toggleType() {\n      this.vol_toggle_hint_internal = false;\n      if (this.desired_concentration_is_volumetric) {\n        alert(\"Since your desired concentration is specified in volumetric units, you must measure out a volume.\")\n      }\n      if (this.content.chosen_input_method == \"weight\") {\n        this.content.chosen_input_method = \"volume\"\n        // this.content.vol_unit = \"\"\n        //his.content.mass_unit = \"\"\n      }\n      else {\n        this.content.chosen_input_method = \"weight\"\n        //this.content.mass_unit = \"\"\n        //this.content.vol_unit = \"\"\n      }\n    }\n  },\n\n  computed:\n  {\n    vol_toggle_large_tooltip() {\n      if (this.vol_toggle_hint_internal & this.vol_toggle_hint) {\n        return 'Press to toggle between measuring volume and mass';\n      }\n      else {\n        return ''\n      }\n    },\n\n    input_method: function () {\n      if (this.desired_concentration_is_volumetric) {\n        return \"volume\"\n      }\n      return this.content.chosen_input_method;\n    },\n    desired_concentration_is_volumetric: function () {\n      if ([null, \"grams\", \"moles\"].includes(this.desired_concentration.type_per_litre)) {\n        return false;\n      }\n      else {\n        return true;\n      }\n    }\n    ,\n\n\n    needed_amount_mass() {\n      if (!this.final_volume) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid total volume above\"]\n      }\n\n      if (masses[this.content.mass_unit] == undefined) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid mass unit to the right (e.g. mg)\"]\n      }\n\n      if (!this.desired_concentration.number) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid desired concentration\"]\n      }\n      if (this.desired_concentration.type_per_litre == \"grams\") {\n\n        let mass_unit_content = masses[this.content.mass_unit];\n\n        let val = this.final_volume * this.desired_concentration.number / mass_unit_content\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else if (this.mw > 0 & this.desired_concentration.type_per_litre == \"moles\") {\n\n        let mass_unit_content = masses[this.content.mass_unit];\n        let val = this.final_volume * this.desired_concentration.number * this.mw / mass_unit_content\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else {\n        if (!this.mw) {\n          return [question_marks, mw_message]\n        }\n        return [question_marks, \"Unable to calculate the required value: you seem to be trying to convert between incompatible types\"]\n      }\n    },\n    needed_amount_volume() {\n      if (!this.final_volume) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid total volume above\"]\n      }\n\n      if (volumes[this.content.vol_unit] == undefined) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid volume unit to the right (e.g. ml)\"]\n      }\n\n      if (!this.desired_concentration.number) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid desired concentration\"]\n      }\n\n      if (!this.content.stock_concentration.number) {\n        return [question_marks, \"Unable to calculate the required value: please enter a valid stock concentration to the right\"]\n      }\n\n\n      if (this.desired_concentration.type_per_litre == this.content.stock_concentration.type_per_litre) {\n\n        let vol_unit_content = volumes[this.content.vol_unit];\n        let val = this.final_volume * this.desired_concentration.number / (this.content.stock_concentration.number * vol_unit_content);\n        return [formatNumber(precision_level, val), \"\"]\n\n      }\n      else if (this.desired_concentration.type_per_litre == \"moles\" & this.content.stock_concentration.type_per_litre == \"grams\") {\n        if (!this.mw) {\n          return [question_marks, mw_message]\n        }\n        let vol_unit_content = volumes[this.content.vol_unit];\n        let val = this.final_volume * this.desired_concentration.number / (this.content.stock_concentration.number * vol_unit_content / this.mw);\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else if (this.desired_concentration.type_per_litre == \"grams\" & this.content.stock_concentration.type_per_litre == \"moles\") {\n        if (!this.mw) {\n          return [question_marks, mw_message]\n        }\n        let vol_unit_content = volumes[this.content.vol_unit];\n        let val = this.final_volume * this.desired_concentration.number / (this.content.stock_concentration.number * vol_unit_content * this.mw);\n        return [formatNumber(precision_level, val), \"\"]\n      }\n      else {\n        return [question_marks, \"error: you seem to be trying to convert between incompatible types\"]\n\n      }\n\n\n\n\n    },\n    input_type_button_image() {\n      if (this.input_method == \"weight\") {\n        return \"fa-balance-scale-right\";\n      }\n      else {\n        return \"fa-flask\";\n      }\n    }\n\n  },\n  watch: {\n    content: {\n      handler() {\n        this.$emit('input', this.content)\n      },\n      deep: true\n    }\n  }\n  }\n  </script>\n  <template><div style=\"display:inline-block\" class=\"computed\">\n  <div class=\"button_holder_flask\"><i class=\"fas change-input-type-button toggler\" :class=\"[input_type_button_image,vol_toggle_hint_internal & vol_toggle_hint ? 'highlight': '']\" v-tooltip=\"vol_toggle_large_tooltip\" v-on:click=\"toggleType()\" title=\"Toggle between measuring out mass and volume\"></i></div>\n  <div   style=\"display:inline-block\" v-if=\"input_method=='weight'\">\n  <div class=\"needed_number\" v-tooltip=\"needed_amount_mass[1]\">{{needed_amount_mass[0]}}</div><unit key=\"mass\" type=\"mass\"  v-model=\"content.mass_unit\"/>\n  </div>\n  <div style=\"display:inline-block\"  v-if=\"input_method=='volume'\">\n  <div class=\"needed_number\" v-tooltip=\"needed_amount_volume[1]\">{{needed_amount_volume[0]}}</div><unit key=\"vol\" type=\"vol\"  v-model=\"content.vol_unit\" class=\"vol_unit2\"/> of <conc_and_unit v-model=\"content.stock_concentration\" /> stock\n  </div>\n  </div>\n  </template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeededAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NeededAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NeededAmount.vue?vue&type=template&id=6c6c2caf&\"\nimport script from \"./NeededAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./NeededAmount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*eslint no-unused-vars: \"warn\"*/\nimport Vue from 'vue'\nimport $ from 'jquery'\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firebase-firestore';\nimport VueSimpleSuggest from 'vue-simple-suggest'\nimport VTooltip from 'v-tooltip'\n\nimport { masses, volumes } from './masses_volumes.js'\nVue.use(VTooltip, {\n  defaultHtml: false,\n})\n\n\nVue.component('vue-simple-suggest', VueSimpleSuggest)\n\nimport NeededAmount from './components/NeededAmount.vue'\nVue.component('needed_amount', NeededAmount)\n\n\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAbcpPTlSV3YaY3WHVSIV_-G2IV-6kGzyE\",\n  authDomain: \"mixology-1b19e.firebaseapp.com\",\n  projectId: \"mixology-1b19e\",\n  storageBucket: \"mixology-1b19e.appspot.com\",\n  messagingSenderId: \"372110169446\",\n  appId: \"1:372110169446:web:c58d451c520df31b1aa4a7\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nimport vmodal from 'vue-js-modal'\nVue.use(vmodal)\n\nlet masses_data = Array();\nlet masses_keys = [];\n\n$.getJSON(\"masses.json\", function (data) {\n  console.log(data);\n  masses_data = data;\n  masses_keys = Object.keys(data).sort(function (a, b) {\n    return a.toLowerCase().localeCompare(b.toLowerCase());\n  });\n\n\n  startup();\n\n\n});\n\n\n\n\n\n\n\nfunction run_thing(uid) {\n  var elemDiv = document.getElementById(\"hidden_\" + uid);\n  var elemInput = document.getElementById(\"input_\" + uid);\n  elemDiv.innerText = elemInput.value;\n  let x = elemDiv.clientWidth + 10;\n  var target = document.getElementById(\"mw_\" + uid);\n  if (target != null) {\n    x = Math.min(x, 200)\n    document.getElementById(\"mw_\" + uid).style.left = x + 'px';\n  }\n}\n\nwindow.run_thing = run_thing\n\n//////////\n\n\nlet concentrations = {};\n\nfor (const [mass_key, mass_value] of Object.entries(masses)) {\n  for (const [vol_key, vol_value] of Object.entries(volumes)) {\n    const name = mass_key + \"/\" + vol_key;\n    const value = mass_value / vol_value;\n    const type_per_litre = \"grams\"\n    concentrations[name] = { \"value\": value, \"type_per_litre\": type_per_litre }\n  }\n}\n\nconcentrations[\"% (w/v)\"] = { value: 10, type_per_litre: \"grams\" }\n\n\n\nfor (const [vol_key, vol_value] of Object.entries(volumes)) {\n\n  const name = \"mol\" + \"/\" + vol_key;\n  const value = 1 / vol_value;\n  const type_per_litre = \"moles\"\n  concentrations[name] = { \"value\": value, \"type_per_litre\": type_per_litre }\n}\n\nconcentrations[\"M\"] = { value: 1, type_per_litre: \"moles\" }\nconcentrations[\"mM\"] = { value: 1e-3, type_per_litre: \"moles\" }\nconcentrations[\"uM\"] = { value: 1e-6, type_per_litre: \"moles\" }\nconcentrations[\"nM\"] = { value: 1e-9, type_per_litre: \"moles\" }\n\nfor (const [vol_key, vol_value] of Object.entries(volumes)) {\n\n  const name = \"units\" + \"/\" + vol_key;\n  const value = 1 / vol_value;\n  const type_per_litre = \"units\"\n  concentrations[name] = { \"value\": value, \"type_per_litre\": type_per_litre }\n}\n\n\nconcentrations[\"% (v/v)\"] = { value: 1e-2, type_per_litre: \"litres\" }\n\nconcentrations[\"X\"] = { value: 1, type_per_litre: \"x\" }\n\n\nlet sorted_masses = Object.keys(masses).sort();\nlet sorted_concentrations = Object.keys(concentrations).sort();\nlet sorted_volumes = Object.keys(volumes).sort();\n\n\n\n/*# structure\n\n{\"name\" : {\"unit_per_litre\":x, \"value\": y}}\n\ngrams, litres, moles, x , activity_units\n*/\n\n\nconsole.log(concentrations);\n\nVue.component('unit', {\n  props: ['value', 'type'],\n  data: function () {\n    return {\n      content: this.value\n\n\n    }\n  },\n  methods: {\n\n    unitKeyDown: function (e) {\n      // console.log(e)\n      if (e.code == \"Backspace\") {\n        if (this.$refs.unit_input.inputElement.selectionEnd == 0) {\n          this.$emit('backspace_too_far', 'true')\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n      }\n\n\n\n    },\n\n\n    filterFunction(a, b) {\n      return a.toLowerCase().replace(\" \", \"\").startsWith(b.toLowerCase().replace(\" \", \"\"));\n    },\n    list_of_units() {\n      if (this.type == \"conc\") {\n        return (sorted_concentrations);\n      }\n      else if (this.type == \"mass\") {\n        return (sorted_masses);\n      }\n      else if (this.type == \"vol\") {\n        return (sorted_volumes);\n      }\n\n    }\n\n\n  },\n  computed: {\n    invalid_unit() {\n      if (this.list_of_units().includes(this.content)) {\n        return false;\n      }\n      else {\n        return true;\n      }\n    }\n  },\n  watch: {\n    content: function (value) {\n\n      this.$emit('input', value)\n\n\n    }\n\n  },\n  template: `<div class=\"unit\" style=\"display:inline-block\">\n      <vue-simple-suggest :filter=\"filterFunction\"\n      v-model=\"content\" :class=\"{invalid_unit:invalid_unit}\"\n      :placeholder=\"type+' unit'\"\n      :list=\"list_of_units()\"\n      :filter-by-query=\"true\"  class=\"unit_input\" ref=\"unit_input\">\n      <input :placeholder=\"type+' unit'\" type=\"text\" autocomplete=\"off\" v-model=\"content\" v-on:keydown=\"unitKeyDown\">\n    </vue-simple-suggest>\n      </div>`});\n\n\n\n\nVue.component('reagent', {\n  props: ['uid', 'manual_mw', 'value'],\n\n  data: function () {\n    return {\n\n      content: this.value,\n\n      masses_data: masses_data,\n      reagentsList() { return masses_keys; },\n      filterFunction(a, b) {\n        return a.toLowerCase().replace(\" \", \"\").startsWith(b.toLowerCase().replace(\" \", \"\"));\n      }\n    }\n  },\n\n  watch: {\n    'content.name': {\n      immediate: false, handler() {\n        this.$emit('nameChange')\n        this.$emit('input', this.content)\n        console.log(\"name change\")\n        this.UpdateMW()\n      }\n    },\n\n    'manual_mw': {\n      immediate: true, handler() {\n\n        this.UpdateMW()\n      }\n    },\n    'content.mw': {\n      immediate: true, handler() {\n        console.log(\"mw_change\", this.content.mw);\n        this.$emit('input', this.content)\n\n      }\n    },\n\n  },\n  methods: {\n    UpdateMW() {\n      if (this.manual_mw != null) {\n        this.content.mw = this.manual_mw;\n      }\n      else if (this.reagentsList().includes(this.content.name)) {\n        this.content.mw = (masses_data[this.content.name]);\n      }\n      else {\n        console.log('setting to null')\n        this.content.mw = null;\n      }\n      setTimeout(\"run_thing('\" + this.uid + \"')\", 1)\n\n    },\n\n\n    Update() {\n\n      //if(self.mw != null){\n      setTimeout(\"run_thing('\" + this.uid + \"')\", 1);\n      // }\n\n\n    }\n  }\n\n\n\n  ,\n  template: `<div class=\"reagent\" style=\"display:inline-block\">\n          <vue-simple-suggest v-on:select=\"Update\"\n          placeholder=\"reagent\"\n          v-model=\"content.name\"\n          :list=\"reagentsList\"\n          :filter=\"filterFunction\"\n          :filter-by-query=\"true\">\n          <div class=\"mw\" v-if=\"content.mw != null\" :id=\"'mw_'+uid\">(MW: {{content.mw}})</div>\n          <input  spellcheck=\"false\" v-model=\"content.name\" autocomplete=\"off\" placeholder=\"reagent\" type=\"search\"  v-on:input=\"Update\" :id=\"'input_'+uid\"> \n          <div :id=\"'hidden_'+uid\" style=\"width: auto;\n          display: inline-block;\n          visibility: hidden;\n          position: fixed;\n          overflow:auto;\" class=\"measuring_tape\">\n          </div>\n        </vue-simple-suggest>\n          </div>`});\n\n\n\n\nVue.component('reagent_line', {\n  props: ['uid', 'final_volume', 'value', 'vol_toggle_hint'],\n  data: function () {\n    return {\n      content: this.value\n\n      ,\n\n      count: 0,\n      hover: false,\n\n\n\n\n      modalise() {\n        console.log(this);\n        this.$modal.show('trash_modal_' + this.uid);\n      },\n      unmodalise() {\n        console.log(this);\n        this.$modal.hide('trash_modal_' + this.uid);\n      },\n      modalise_settings() {\n        console.log(this);\n        this.$modal.show('settings_modal_' + this.uid);\n      },\n      unmodalise_settings() {\n        console.log(this);\n        this.$modal.hide('settings_modal_' + this.uid);\n      },\n      deleteMe() {\n        console.log(\"delete me\", this.uid);\n        this.$emit('deleteme', this.uid)\n\n      }\n    }\n  },\n  computed: {\n    displayName() {\n      if (this.content.reagent_info.name == '') {\n        return 'unnamed chemical';\n      }\n      else {\n        return this.content.reagent_info.name;\n      }\n    }\n  },\n  watch: {\n    content: {\n      handler(val) {\n        this.$emit('input', this.content)\n      },\n      deep: true\n    }\n  },\n\n\n  template: `\n<div class=\"reagent_line\" @mouseover=\"hover = true\"\n    @mouseleave=\"hover = false\">\n    <modal :name=\"'settings_modal_'+uid\">\n   <h3> {{displayName}}</h3>\n          \n          Custom molecular mass: <input type=\"number\"  step=\"any\"  placeholder=\"0.00\" v-model=\"content.manual_mw\"  class=\"classic\"/>\n       <div><button @click=\"unmodalise_settings()\">OK</button></div>\n          </modal>\n    <modal :name=\"'trash_modal_'+uid\">\n          Are you sure you want to delete  {{displayName}}?\n          <button  v-on:click=\"deleteMe()\">Yes</button> <button v-on:click=\"unmodalise()\">No</button>\n        </modal>\n    <div><conc_and_unit v-model=\"content.desired_concentration\"/><reagent @nameChange=\"content.manual_mw = null\" :manual_mw=\"content.manual_mw\" :uid=\"uid\" v-model=\"content.reagent_info\" /><needed_amount :vol_toggle_hint=\"vol_toggle_hint\" :mw=\"content.reagent_info.mw\" :final_volume=\"final_volume\" :desired_concentration=\"content.desired_concentration\" v-model=\"content.needed_amount\"></needed_amount><div style=\"display:inline-block\" class=\"buttons_container\" >&nbsp;<div  v-if=\"hover\"  class=\"buttons\"><i  v-on:click=\"modalise_settings()\" title=\"Set molecular weight\" class=\"fas fa-cog weight-button\"></i> &nbsp;<i title=\"Delete\" class=\"fas fa-trash trash-button\" v-on:click=\"modalise()\"></i></div></div>\n    </div>\n\n    \n    \n    \n    </div>\n    `\n});\n\nVue.component('conc_and_unit', {\n  props: ['value'],\n  data: function () {\n    return {\n      //{ number: null, type_per_litre: null, raw_unit:null, raw_number:null }\n\n      content: this.value\n    }\n  },\n  methods: {\n    onbackspacetoofar() {\n      console.log('too far')\n\n      const starting = (\"\" + this.content.raw_number);\n      //this.content.raw_number = starting.slice(0, -1); //delete last char but this seems confusing\n      this.$refs.number.focus()\n      this.$refs.number.type = 'text'\n      this.$refs.number.selectionStart = this.$refs.number.selectionEnd = this.$refs.number.value.toString().length\n      this.$refs.number.type = 'number'\n\n    },\n\n    numberKeypress: function (e) {\n      // console.log(e)\n      var inp = String.fromCharCode(e.keyCode);\n\n\n      const isLetter = /[a-zA-Z%]/.test(inp)\n      if (isLetter) {\n        e.preventDefault();\n\n\n        console.log(this.$refs.unit.$refs.unit_input);\n        this.$refs.unit.content = inp;\n        this.$refs.unit.$refs.unit_input.value = inp;\n        this.$refs.unit.$refs.unit_input.$refs.inputSlot.firstChild.focus();\n      }\n    }\n    ,\n    updateValue() {\n\n\n\n      if (concentrations[this.value.raw_unit]) {\n\n        this.value.type_per_litre = concentrations[this.value.raw_unit].type_per_litre\n        this.value.number = this.value.raw_number * concentrations[this.value.raw_unit].value\n\n        this.$emit('input', this.value)\n\n      }\n      else {\n\n        console.log(\"invalid_unit\")\n        this.value.number = null;\n        this.value.type_per_litre = null;\n        this.$emit('input', this.value);\n      }\n\n    }\n  },\n  watch: {\n    'value.raw_unit': function () { this.updateValue() },\n    'value.raw_number': function () { this.updateValue() }\n  },\n\n  template: `<div style=\"display:inline-block\"><input ref=\"number\" type=\"number\" v-on:keypress=\"numberKeypress\" step=\"any\" placeholder=\"conc.\" class=\"number\" v-model=\"value.raw_number\"></input><unit @backspace_too_far=\"onbackspacetoofar\" ref=\"unit\" type=\"conc\" v-model=\"value.raw_unit\" /></div>`\n}\n);\n\n\nVue.component('vol_and_unit', {\n  props: [\"num_hint\", \"unit_hint\", 'value'],\n  data: function () {\n    return {\n      content: this.value\n\n    }\n  },\n\n  methods: {\n    onbackspacetoofar() {\n      console.log('too far')\n\n      const starting = (\"\" + this.content.raw_number);\n      //this.content.raw_number = starting.slice(0, -1); //delete last char but this seems confusing\n      this.$refs.number.focus()\n      this.$refs.number.type = 'text'\n      this.$refs.number.selectionStart = this.$refs.number.selectionEnd = this.$refs.number.value.toString().length\n      this.$refs.number.type = 'number'\n\n    },\n    numberKeypress: function (e) {\n      // console.log(e)\n      var inp = String.fromCharCode(e.keyCode);\n\n\n      const isLetter = /[a-zA-Z%]/.test(inp)\n      if (isLetter) {\n        e.preventDefault();\n\n\n        console.log(this.$refs.unit.$refs.unit_input);\n        this.$refs.unit.content = inp;\n        this.$refs.unit.$refs.unit_input.value = inp;\n        this.$refs.unit.$refs.unit_input.$refs.inputSlot.firstChild.focus();\n      }\n    },\n    updateValue() {\n\n\n      let unit_details = volumes[this.content.raw_unit]\n      if (unit_details) {\n        this.content.computed_value_in_litres = this.content.raw_number * volumes[this.content.raw_unit]\n        this.$emit('input', this.content)\n      }\n      else {\n\n\n        this.content.computed_value_in_litres = null;\n        this.$emit('input', this.content)\n      }\n\n    }\n  },\n  watch: {\n    'content.raw_unit': { immediate: true, handler() { this.updateValue() } },\n    'content.raw_number': { immediate: true, handler() { this.updateValue() } }\n  },\n  template: `<div style=\"display:inline-block\"><input type=\"number\" v-on:keypress=\"numberKeypress\" step=\"any\" :title=\"num_hint\" placeholder=\"vol.\" class=\"number\" v-model=\"content.raw_number\"></input><unit @backspacetoofar=\"onbackspacetoofar\" ref=\"unit\" :title=\"unit_hint\" type=\"vol\" v-model=\"content.raw_unit\" class=\"vol_unit\"/></div>`\n}\n);\n\n\n\nvar data = {\n  buffer_name: null,\n  counter: 4,\n  reagents_store: [],\n  notes_store: [],\n  model: '',\n  about_open: false,\n  video_open: false,\n  final_volume: { raw_number: null, raw_unit: null, computed_value_in_litres: null },\n\n  onDeleteMe(x) {\n    console.log(this)\n    console.log(x)\n    let to_delete = -1;\n    for (let i in data.reagents_store) {\n      if (data.reagents_store[i].uid == x) {\n        to_delete = i\n      }\n    }\n    console.log(to_delete)\n    if (to_delete > -1) {\n      data.reagents_store.splice(to_delete, 1);\n\n    }\n  },\n  deleteNote(x) {\n    console.log(this)\n    console.log(x)\n    let to_delete = -1;\n    for (let i in data.notes_store) {\n      if (data.notes_store[i].uid == x) {\n        to_delete = i\n      }\n    }\n    console.log(to_delete)\n    if (to_delete > -1) {\n      data.notes_store.splice(to_delete, 1);\n\n    }\n  }\n\n\n}\n\nasync function loadNewData() {\n  var urlParams = new URLSearchParams(window.location.search);\n  let recipe = urlParams.get('recipe')\n  console.log(recipe)\n  if (!recipe) {\n    return\n  }\n\n\n  const cityRef = db.collection('recipes').doc(recipe);\n  const doc = await cityRef.get();\n  if (!doc.exists) {\n    console.log('No such document!');\n    return\n  } else {\n    console.log(\"good\")\n\n  }\n\n\n  let new_data = JSON.parse(doc.data().json)\n  console.log(new_data)\n\n\n\n  if (new_data) {\n\n    data['final_volume'] = new_data['final_volume']\n    data['reagents_store'] = new_data['reagents_store']\n    data['notes_store'] = new_data['notes_store']\n    data['buffer_name'] = new_data['buffer_name']\n  }\n\n}\n\nvar app;\n\nvar test;\n\nasync function startup() {\n\n\n  await loadNewData();\n\n  document.getElementById('spinner').style.display = \"none\"\n\n  app = new Vue({\n    el: '#app',\n    data: data,\n    computed: {\n      compoundTitle() {\n        if (this.final_volume.computed_value_in_litres == null) {\n          return \"First, please enter a final volume above, with a unit\"\n        }\n        else {\n          return \"\"\n        }\n\n      }\n    },\n    methods: {\n\n\n\n\n      AddCompound() {\n        window.onbeforeunload = function () {\n          return true;\n        };\n\n        var max_uid = 0\n\n        for (let i in data.reagents_store) {\n          max_uid = Math.max(\n            data.reagents_store[i].uid, max_uid)\n        }\n\n        data.reagents_store.push(\n          { \"uid\": (max_uid + 1), \"info\": { \"desired_concentration\": { \"number\": null, \"type_per_litre\": null, \"raw_unit\": null, \"raw_number\": null }, \"manual_mw\": null, \"reagent_info\": { \"name\": null, \"mw\": null }, \"needed_amount\": { \"mass_unit\": null, \"chosen_input_method\": \"weight\", \"vol_unit\": \"\", \"stock_concentration\": { \"raw_unit\": null, \"raw_number\": null, \"number\": null, \"type_per_litre\": null } } } }\n\n        );\n        data.counter++;\n      },\n      AddNote() {\n\n\n        var max_uid = 0\n\n        for (let i in data.notes_store) {\n          max_uid = Math.max(\n            data.notes_store[i].uid, max_uid)\n        }\n\n        data.notes_store.push(\n          { \"uid\": (max_uid + 1), text: '', hover: false }\n\n        );\n        data.counter++;\n      }\n\n\n    }\n\n  });\n\n  $('.overlay').hide();\n}\n\n\nfunction makeid(length) {\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\nvar db = firebase.firestore();\nasync function permalink() {\n\n  console.log('test')\n  let time = Date.now()\n  let to_store = { \"notes_store\": data.notes_store, \"final_volume\": data.final_volume, \"buffer_name\": data.buffer_name, \"reagents_store\": data.reagents_store };\n  let json = JSON.stringify(to_store)\n  const data_for_db = {\n    json: json,\n    time: time,\n    version: 1\n\n  };\n\n  let id = makeid(10);\n  const res = await db.collection('recipes').doc(id).set(data_for_db);\n  window.onbeforeunload = null;\n\n  console.log(\"/?recipe=\" + id);\n  window.location.href = \"/?recipe=\" + id;\n\n}\n\nwindow.permalink = permalink\n"],"sourceRoot":""}